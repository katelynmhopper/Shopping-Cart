{"version":3,"sources":["Components/products.js","App.js","reportWebVitals.js","index.js"],"names":["products","name","country","cost","instock","dataFetchReducer","state","action","type","Object","objectSpread","isLoading","isError","data","payload","Error","Products","props","_React$useState","React","useState","_React$useState2","slicedToArray","items","setItems","_React$useState3","_React$useState4","cart","setCart","_React$useState5","_React$useState6","Fragment","_useState3","useEffect","useReducer","_useState4","query","setQuery","_useDataApi","initialUrl","initialData","_useState","_useState2","url","setUrl","_useReducer","_useReducer2","dispatch","console","log","didCancel","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","axios","sent","t0","stop","apply","this","arguments","fetchData","useDataApi","_useDataApi2","_useDataApi2$","doFetch","concat","JSON","stringify","addToCart","e","target","item","filter","toConsumableArray","list","map","index","picUrl","react_default","a","createElement","key","Image","src","width","roundedCircle","Button","variant","size","onClick","cartList","Card","Header","delIndex","newCart","i","newItems","deleteCartItem","Body","finalList","total","checkOut","final","newTotal","reduce","accum","current","restockProducts","length","extractedData","attributes","push","apiItems","makeAPIdataUseful","Container","Row","Col","style","listStyleType","Accordion","onSubmit","event","preventDefault","value","onChange","App","Components_products","reportWebVitals","onPerfEntry","Function","__webpack_require__","then","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","src_App"],"mappings":"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","file":"static/js/main.c8151a24.chunk.js","sourcesContent":["import React from \"react\";\nimport ReactBootstrap from \"react-bootstrap\";\nimport axios from \"axios\";\n\n\nimport {\n    Card,\n    Accordion,\n    Button,\n    Container,\n    Row,\n    Col,\n    Image,\n    Input,\n  } from \"react-bootstrap\";\n\n// simulate getting products from DataBase\nconst products = [\n    { name: \"Apples_:\", country: \"Italy\", cost: 3, instock: 10 },\n    { name: \"Oranges:\", country: \"Spain\", cost: 4, instock: 3 },\n    { name: \"Beans__:\", country: \"USA\", cost: 2, instock: 5 },\n    { name: \"Cabbage:\", country: \"USA\", cost: 1, instock: 8 },\n  ];\n  \n  const useDataApi = (initialUrl, initialData) => {\n    const { useState, useEffect, useReducer } = React;\n    const [url, setUrl] = useState(initialUrl);\n  \n    const [state, dispatch] = useReducer(dataFetchReducer, {\n      isLoading: false,\n      isError: false,\n      data: initialData,\n    });\n    console.log(`useDataApi called`);\n    useEffect(() => {\n      console.log(\"useEffect Called\");\n      let didCancel = false;\n      const fetchData = async () => {\n        dispatch({ type: \"FETCH_INIT\" });\n        try {\n          const result = await axios(url);\n          console.log(\"FETCH FROM URL\");\n          if (!didCancel) {\n            dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\n          }\n        } catch (error) {\n          if (!didCancel) {\n            dispatch({ type: \"FETCH_FAILURE\" });\n          }\n        }\n      };\n      fetchData();\n      return () => {\n        didCancel = true;\n      };\n    }, [url]);\n    return [state, setUrl];\n  };\n  \n  \n  const dataFetchReducer = (state, action) => {\n    switch (action.type) {\n      case \"FETCH_INIT\":\n        return {\n          ...state,\n          isLoading: true,\n          isError: false,\n        };\n      case \"FETCH_SUCCESS\":\n        return {\n          ...state,\n          isLoading: false,\n          isError: false,\n          data: action.payload,\n        };\n      case \"FETCH_FAILURE\":\n        return {\n          ...state,\n          isLoading: false,\n          isError: true,\n        };\n      default:\n        throw new Error();\n    }\n  };\n  \n  const Products = (props) => {\n    const [items, setItems] = React.useState(products);\n    const [cart, setCart] = React.useState([]);\n    const [total, setTotal] = React.useState(0);\n\n    //  Fetch Data\n    const { Fragment, useState, useEffect, useReducer } = React;\n    const [query, setQuery] = useState(\"api/products\");\n    const [{ data, isLoading, isError }, doFetch] = useDataApi(\n      \"http://localhost:1337/api/products\",\n      {\n        data: [],\n      }\n    );\n    console.log(`Rendering Products ${JSON.stringify(data)}`);\n    console.log(\"what is data? \", data);\n    // Fetch Data\n\n  \n      \n    const addToCart = (e) => {\n      let name = e.target.name;\n      let item = items.filter((item) => item.name === name);\n      if (item[0].instock === 0) return;\n      item[0].instock = item[0].instock - 1;\n      console.log(`add to Cart ${JSON.stringify(item)}`);\n      setCart([...cart, ...item]);\n    };\n    const deleteCartItem = (delIndex) => {\n      // this is the index in the cart not in the Product List\n  \n      let newCart = cart.filter((item, i) => delIndex !== i);\n      let target = cart.filter((item, index) => delIndex === index);\n      let newItems = items.map((item, index) => {\n        if (item.name === target[0].name) item.instock = item.instock + 1;\n        return item;\n      });\n      setCart(newCart);\n      setItems(newItems);\n    };\n  \n    const makeAPIdataUseful = () => {\n      console.log(\"data length: \", data.data.length)\n      if (data.data.length > 0) {\n        let extractedData = [];\n        console.log(\"data 0 element: \", data.data[0].attributes);\n        for (let i=0; i<data.data.length; i++) {\n          extractedData.push(data.data[i].attributes);\n        };\n        console.log(extractedData);\n        let apiItems = extractedData.map((item) => {\n          let { name, country, cost, instock } = item;\n          return { name, country, cost, instock };\n        });\n          console.log(' what the newItems are:' , apiItems)\n          setItems([...items, ...apiItems])\n      }\n  \n    };\n  \n    let list = items.map((item, index) => {\n      let n = index + 1049;\n      let picUrl = \"https://picsum.photos/id/\" + n + \"/50/50\";\n  \n      return (\n        <li key={index}>\n          <Image src={picUrl} width={70} roundedCircle></Image>\n          <Button variant=\"primary\" size=\"large\">\n          {item.name}:${item.cost}-Stock={item.instock}\n          </Button>\n          <input name={item.name} type=\"submit\" onClick={addToCart}></input>\n        </li>\n      );\n    });\n  \n    let cartList = cart.map((item, index) => {\n      return (\n        <Card key={index}>\n          <Card.Header>\n            <div>\n              {item.name}\n            </div>\n          </Card.Header>\n          <div\n            onClick={() => deleteCartItem(index)}\n       \n          >\n            <Card.Body>\n              $ {item.cost} from {item.country}\n            </Card.Body>\n          </div>\n        </Card>\n      );\n    });\n  \n    let finalList = () => {\n      let total = checkOut();\n      let final = cart.map((item, index) => {\n        return (\n          <div key={index} index={index}>\n            {item.name}\n          </div>\n        );\n      });\n      return { final, total };\n    };\n  \n    const checkOut = () => {\n      let costs = cart.map((item) => item.cost);\n      const reducer = (accum, current) => accum + current;\n      let newTotal = costs.reduce(reducer, 0);\n      console.log(`total updated to ${newTotal}`);\n      return newTotal;\n    };\n    // TODO: implement the restockProducts function\n    const restockProducts = (url) => {\n      doFetch(url);\n      makeAPIdataUseful();\n      console.log('>>>> Restock')\n  \n    };\n  \n    return (\n      <Container>\n        <Row>\n          <Col>\n            <h1>Product List</h1>\n            <ul style={{ listStyleType: \"none\" }}>{list}</ul>\n          </Col>\n          <Col>\n            <h1>Cart Contents</h1>\n            <Accordion>{cartList}</Accordion>\n          </Col>\n          <Col>\n            <h1>CheckOut </h1>\n            <Button onClick={checkOut}>CheckOut $ {finalList().total}</Button>\n            <div> {finalList().total > 0 && finalList().final} </div>\n          </Col>\n        </Row>\n        <Row>\n          <form\n            onSubmit={(event) => {\n              restockProducts(`http://localhost:1337/${query}`);\n              console.log(`Restock called on ${query}`);\n              event.preventDefault();\n            }}\n          >\n            <input\n              type=\"text\"\n              value={query}\n              onChange={(event) => setQuery(event.target.value)}\n            />\n            <button type=\"submit\">ReStock Products</button>\n          </form>\n        </Row>\n      </Container>\n    );\n  };\n\n  export default Products; \n  ","import React from 'react';\nimport './App.css';\nimport Products from \"./Components/products\"\n\nfunction App() {\n  return (\n    <Products></Products>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport \"bootstrap/dist/css/bootstrap.css\"\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}